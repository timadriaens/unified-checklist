<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>4 Verify taxa | National, unified checklist of alien species in Belgium</title>
  <meta name="description" content="4 Verify taxa | National, unified checklist of alien species in Belgium>
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="4 Verify taxa | National, unified checklist of alien species in Belgium />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="trias-project/unified-checklist" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Verify taxa | National, unified checklist of alien species in Belgium />
  
  
  

<meta name="author" content="Peter Desmet, Damiano Oldoni">


<meta name="date" content="2018-12-20">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="get_information.html">
<link rel="next" href="unify_information.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Intro</a></li>
<li class="chapter" data-level="2" data-path="get_taxa.html"><a href="get_taxa.html"><i class="fa fa-check"></i><b>2</b> Get taxa from checklists</a><ul>
<li class="chapter" data-level="2.1" data-path="get_taxa.html"><a href="get_taxa.html#choose-checklists"><i class="fa fa-check"></i><b>2.1</b> Choose checklists</a></li>
<li class="chapter" data-level="2.2" data-path="get_taxa.html"><a href="get_taxa.html#get-taxa"><i class="fa fa-check"></i><b>2.2</b> Get taxa</a></li>
<li class="chapter" data-level="2.3" data-path="get_taxa.html"><a href="get_taxa.html#filter-on-distribution"><i class="fa fa-check"></i><b>2.3</b> Filter on distribution</a></li>
<li class="chapter" data-level="2.4" data-path="get_taxa.html"><a href="get_taxa.html#get-gbif-backbone-taxonomy-information"><i class="fa fa-check"></i><b>2.4</b> Get GBIF backbone taxonomy information</a></li>
<li class="chapter" data-level="2.5" data-path="get_taxa.html"><a href="get_taxa.html#show-summary-and-save"><i class="fa fa-check"></i><b>2.5</b> Show summary and save</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="get_information.html"><a href="get_information.html"><i class="fa fa-check"></i><b>3</b> Get related information</a><ul>
<li class="chapter" data-level="3.1" data-path="get_information.html"><a href="get_information.html#read-taxa"><i class="fa fa-check"></i><b>3.1</b> Read taxa</a></li>
<li class="chapter" data-level="3.2" data-path="get_information.html"><a href="get_information.html#get-distributions"><i class="fa fa-check"></i><b>3.2</b> Get distributions</a></li>
<li class="chapter" data-level="3.3" data-path="get_information.html"><a href="get_information.html#get-species-profiles"><i class="fa fa-check"></i><b>3.3</b> Get species profiles</a></li>
<li class="chapter" data-level="3.4" data-path="get_information.html"><a href="get_information.html#get-descriptions"><i class="fa fa-check"></i><b>3.4</b> Get descriptions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="verify_taxa.html"><a href="verify_taxa.html"><i class="fa fa-check"></i><b>4</b> Verify taxa</a><ul>
<li class="chapter" data-level="4.1" data-path="verify_taxa.html"><a href="verify_taxa.html#read-taxa-1"><i class="fa fa-check"></i><b>4.1</b> Read taxa</a></li>
<li class="chapter" data-level="4.2" data-path="verify_taxa.html"><a href="verify_taxa.html#verification"><i class="fa fa-check"></i><b>4.2</b> Read verification information</a></li>
<li class="chapter" data-level="4.3" data-path="verify_taxa.html"><a href="verify_taxa.html#run-and-save-verification"><i class="fa fa-check"></i><b>4.3</b> Run and save verification</a></li>
<li class="chapter" data-level="4.4" data-path="verify_taxa.html"><a href="verify_taxa.html#show-verification-status"><i class="fa fa-check"></i><b>4.4</b> Show verification status</a><ul>
<li class="chapter" data-level="4.4.1" data-path="verify_taxa.html"><a href="verify_taxa.html#unmatched-taxa"><i class="fa fa-check"></i><b>4.4.1</b> Unmatched taxa</a></li>
<li class="chapter" data-level="4.4.2" data-path="verify_taxa.html"><a href="verify_taxa.html#synonyms"><i class="fa fa-check"></i><b>4.4.2</b> Synonyms</a></li>
<li class="chapter" data-level="4.4.3" data-path="verify_taxa.html"><a href="verify_taxa.html#accepted-taxa"><i class="fa fa-check"></i><b>4.4.3</b> Accepted taxa</a></li>
<li class="chapter" data-level="4.4.4" data-path="verify_taxa.html"><a href="verify_taxa.html#erroneous-verificationkeys"><i class="fa fa-check"></i><b>4.4.4</b> Erroneous verificationKeys</a></li>
<li class="chapter" data-level="4.4.5" data-path="verify_taxa.html"><a href="verify_taxa.html#additional-information"><i class="fa fa-check"></i><b>4.4.5</b> Additional information</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="unify_information.html"><a href="unify_information.html"><i class="fa fa-check"></i><b>5</b> Unify related information</a><ul>
<li class="chapter" data-level="5.1" data-path="unify_information.html"><a href="unify_information.html#read-data"><i class="fa fa-check"></i><b>5.1</b> Read data</a></li>
<li class="chapter" data-level="5.2" data-path="unify_information.html"><a href="unify_information.html#assign-checklist-order"><i class="fa fa-check"></i><b>5.2</b> Assign checklist order</a></li>
<li class="chapter" data-level="5.3" data-path="unify_information.html"><a href="unify_information.html#unify-distribution"><i class="fa fa-check"></i><b>5.3</b> Unify distribution</a></li>
<li class="chapter" data-level="5.4" data-path="unify_information.html"><a href="unify_information.html#unify-species-profiles"><i class="fa fa-check"></i><b>5.4</b> Unify species profiles</a></li>
<li class="chapter" data-level="5.5" data-path="unify_information.html"><a href="unify_information.html#unify-descriptions"><i class="fa fa-check"></i><b>5.5</b> Unify descriptions</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">National, unified checklist of alien species in Belgium</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="verify-taxa" class="section level1">
<h1><span class="header-section-number">4</span> Verify taxa</h1>
<p>In this chapter we verify taxonomic information returned by the <a href="https://doi.org/10.15468/39omei">GBIF Backbone Taxonomy</a>. We do this because we want to use the backbone information to unify taxa that can be considered the same within or across checklists. This is straightforward for (accepted) taxa with the same backbone key (<code>bb_key</code>), but requires verification for taxa the backbone does not recognize (no backbone match) or will lump under another name (synonyms). See <a href="verify_taxa.html#verification">4.2</a>.</p>
<div id="read-taxa-1" class="section level2">
<h2><span class="header-section-number">4.1</span> Read taxa</h2>
<p>Read taxa from <a href="https://github.com/trias-project/unified-checklist/blob/master/data/interim/taxa_with_verification.csv"><code>data/interim/taxa_with_verification.csv</code></a>.</p>
</div>
<div id="verification" class="section level2">
<h2><span class="header-section-number">4.2</span> Read verification information</h2>
<p>Verification information consists of a manually assigned <code>verificationKey</code> for taxa the backbone does not recognize (no backbone match) or will lump under another name (synonyms). Those <code>checklist/backbone/accepted</code> taxon combinations are stored in <a href="https://github.com/trias-project/unified-checklist/blob/master/data/interim/verification.tsv"><code>data/interim/verification.tsv</code></a>, which was created/updated in previous runs of this chapter and then manually annoted with a <code>verificationKey</code>.</p>
</div>
<div id="run-and-save-verification" class="section level2">
<h2><span class="header-section-number">4.3</span> Run and save verification</h2>
<ol style="list-style-type: decimal">
<li>Use the existing verification information to verify taxa with the function <code>trias::verify_taxa</code>:</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">verification &lt;-<span class="st"> </span>trias<span class="op">::</span><span class="kw">verify_taxa</span>(taxa, verification)</code></pre>
<p><strong>Note</strong>: to start a verification from scratch, use <code>trias::verify_taxa(taxa)</code>.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Save taxa with populated <code>verificationKey</code> back to <a href="https://github.com/trias-project/unified-checklist/blob/master/data/interim/taxa_with_verification.csv"><code>data/interim/taxa_with_verification.csv</code></a>.</p></li>
<li><p>Save updated verification back to <a href="https://github.com/trias-project/unified-checklist/blob/master/data/interim/verification.tsv"><code>data/interim/verification.tsv</code></a></p></li>
</ol>
</div>
<div id="show-verification-status" class="section level2">
<h2><span class="header-section-number">4.4</span> Show verification status</h2>
<div id="unmatched-taxa" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Unmatched taxa</h3>
<table>
<thead>
<tr class="header">
<th>Status</th>
<th>Number of taxa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Verified</td>
<td>0</td>
</tr>
<tr class="even">
<td>Unverified</td>
<td>114</td>
</tr>
<tr class="odd">
<td>New in this run</td>
<td>0</td>
</tr>
<tr class="even">
<td>No longer used (TODO: for unmatched only)</td>
<td></td>
</tr>
</tbody>
</table>
<p>Unmatched taxa are those for which the automatic backbone matching on the scientific name failed (have <a href="http://gbif.github.io/parsers/apidocs/org/gbif/api/vocabulary/NameUsageIssue.html"><code>BACKBONE_MATCH_NONE</code></a> in <code>issues</code>), either because the scientific name could not be parsed or because it is not listed in the backbone.</p>
<p>Verification (see <a href="verify_taxa.html#verification">4.2</a>) involves setting the <code>verificationKey</code> to a manually found <code>bb_key</code>. One could even set multiple <code>bb_key</code>s, e.g. to split a hybrid formula into its hybrid parents.</p>
</div>
<div id="synonyms" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Synonyms</h3>
<table>
<thead>
<tr class="header">
<th>Status</th>
<th>Number of taxa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Previously verified</td>
<td>0</td>
</tr>
<tr class="even">
<td>Unverified</td>
<td>985</td>
</tr>
<tr class="odd">
<td>New in this run</td>
<td>0</td>
</tr>
<tr class="even">
<td>No longer used (TODO: for synonyms only)</td>
<td></td>
</tr>
</tbody>
</table>
<p>Synonyms are taxa that the backbone will lump under an accepted taxon (<code>taxonomicStatus</code> = <code>SYNONYM</code> or similar). This lumping is often correct, but should be verified.</p>
<p>Verification (see <a href="verify_taxa.html#verification">4.2</a>) involves setting the <code>verifiedKey</code> to one of the following:</p>
<ul>
<li><strong>accepted <code>bb_key</code> suggested by GBIF</strong>: backbone synonymy is accepted and taxon will be lumped.</li>
<li><strong>another accepted <code>bb_key</code></strong>: backbone synonymy is rejected, but taxon will be lumped under another name.</li>
<li><strong><code>bb_key</code> of taxon itself</strong>: backbone synonymy is rejected, taxon will be considered as separate taxon.</li>
</ul>
</div>
<div id="accepted-taxa" class="section level3">
<h3><span class="header-section-number">4.4.3</span> Accepted taxa</h3>
<table>
<thead>
<tr class="header">
<th>Status</th>
<th>Number of taxa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Verified (automatic)</td>
<td>5008</td>
</tr>
<tr class="even">
<td>Unverified</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Accepted taxa are those the backbone considers own entities (<code>taxonomicStatus</code> = <code>ACCEPTED</code> or <code>DOUBTFUL</code>) that won’t be lumped.</p>
<p>No verification is required for these: <code>verificationKey</code> is automatically set to their <code>bb_key</code>.</p>
</div>
<div id="erroneous-verificationkeys" class="section level3">
<h3><span class="header-section-number">4.4.4</span> Erroneous verificationKeys</h3>
<p>Provided verification keys that were not found in the GBIF backbone:</p>
<pre><code>## NULL</code></pre>
</div>
<div id="additional-information" class="section level3">
<h3><span class="header-section-number">4.4.5</span> Additional information</h3>
<p>Additional information regarding the verification information that is of no further consequence.</p>
<ul>
<li>Duplicate taxa (having same <code>bb_key</code> and <code>bb_acceptedKey</code>) that are quick wins to verify:</li>
</ul>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["n"],"name":[1],"type":["int"],"align":["right"]},{"label":["taxa"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"2","2":"292"},{"1":"3","2":"24"},{"1":"4","2":"4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ul>
<li>Previously listed synonyms for which the scientific name was updated in the backbone:</li>
</ul>
<pre><code>## NULL</code></pre>
<ul>
<li>Previously listed synonyms for which the <em>accepted</em> scientific name was updated in the backbone:</li>
</ul>
<pre><code>## NULL</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="get_information.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="unify_information.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/trias-project/unified-checklist/blob/master/src/src/verify_taxa.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
